<!DOCTYPE html>
<html>
<head>
    <title>Update Book â€“ ReadShelf</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>ðŸ“– Mark "{{ book[1] }}" as Read</h1>
    <form method="POST">
        <label>Mood:</label><br>
        <select name="mood" required>
            {% for mood in mood_options %}
                <option value="{{ mood }}">{{ mood }}</option>
            {% endfor %}
        </select><br><br>

        <label>Rating (1â€“5):</label><br>
        <input type="number" name="rating" min="1" max="5"><br><br>

        <label>Review:</label><br>
        <textarea name="review" rows="4" cols="40"></textarea><br><br>

        <button type="submit">Update & Mark as Read</button>
    </form>

    <br><a href="/">â¬… Back to Shelf</a>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
  const form = document.querySelector("form");
  form.addEventListener("submit", function (e) {
    e.preventDefault();  // Prevent instant reload

    // Confetti ðŸŽ‰
    confetti({
      particleCount: 150,
      spread: 70,
      origin: { y: 0.6 },
    });

    // Submit form after short delay
    setTimeout(() => {
      form.submit();  // Now submit normally
    }, 1000); // Wait 1 second
  });
</script>

</body>
</html>
